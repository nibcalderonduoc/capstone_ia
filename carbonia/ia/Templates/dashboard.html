{% extends 'partials/base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <h1>Gr치ficos de Consumo, TCO2 por Distribuidora</h1>
    <div class="charts">
        <!-- Gr치fico de Consumo Mensual -->
        <div class="chart">
            <a href="{% url 'alcance1' %}"> 
            <canvas id="consumoChart" style="width:100%; max-width:600px; height:400px;"></canvas>
            <button onclick="handleConsumo()">Ver detalles de Consumo</button>
            </a>
        </div>

        <!-- Gr치fico de TCO2 Mensual -->    
        <div class="chart">
            <a href="{% url 'alcance2' %}"> 
            <canvas id="TCO2Chart" style="width:100%; max-width:600px; height:400px;"></canvas>
            <button onclick="handleTCO2()">Ver detalles de TCO2</button>
            </a>
        </div>

        <!-- Gr치fico de Consumo por Distribuidora -->
        <div class="chart">
            <a href="{% url 'alcance3' %}"> 
            <canvas id="distribuidoraChart" style="width:100%; max-width:600px; height:400px;"></canvas>
            <button onclick="handleDistribuidora()">Ver detalles de Distribuidora</button>
            </a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Cargar Chart.js y tu archivo script.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var consumoUrl = "{% url 'alcance1' %}";
        var tco2Url = "{% url 'alcance2' %}";
        var distribuidoraUrl = "{% url 'alcance3' %}";

        var labels = {{ labels|safe }};
        var consumoData = {{ consumo_data|safe }};
        var tco2Data = {{ tco2_data|safe }};
        var distribuidoraLabels = {{ distribuidora_labels|safe }};
        var distribuidoraData = {{ distribuidora_data|safe }};
    </script>
    <script src="{% static 'js/script.js' %}"></script>
{% endblock %}
